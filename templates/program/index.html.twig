{% extends 'base.html.twig' %}

{% block title %}{{ 'nav.programs'|trans }} - {{ parent() }}{% endblock %}

{% block body %}
    <h1>{{ 'programs.index_title'|trans }}</h1>
    <div class="mt-3">
        {{ form_start(form) }}
		{{ form_label(form.search, 'programs.search_label'|trans) }}
        {{ form_widget(form.search, {'attr': {
			'placeholder': 'programs.search_placeholder'|trans
		}}) }}
        <input class="mb-1 btn btn-primary" type='submit' value={{'nav.submit'|trans}}>
        {{ form_end(form) }}
    </div>

    {% for program in programs %}
        <div>
            <h2 class="mt-3">
                {{ loop.index }} / {{ program.title }} - {{ 'categories.index_subtitle'|trans }} : {{ program.category.name }}
            </h2>
            <p>{{ program.summary }}</p>
            <a class="btn btn-secondary" href="{{ path("program_show", { slug: program.slug }) }}">
                {{ 'nav.programs_show'|trans }}
            </a>
        </div>
    {% else %}
        {{ 'nav.no_records'|trans }}
    {% endfor %}

    <a class="mt-3 btn btn-secondary" href="{{ path('program_new') }}">
        {{ 'nav.new'|trans }}
    </a>
    <a class="mt-3 btn btn-primary" href="{{ path('app_index') }}">
        {{ 'nav.index_back'|trans }}
    </a>
{% endblock %}
